<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Posts - yangand</title><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"yangand","url":"https:\/\/waffleboot.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/waffleboot.github.io\/"}</script>
<meta property="og:title" content="Posts">
<meta property="og:url" content="https://waffleboot.github.io/posts/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="yangand">
<meta name=twitter:title content="Posts">
<meta name=twitter:card content="summary">
<meta name=generator content="Hugo 0.88.1">
<link rel=alternate href=https://waffleboot.github.io/index.xml type=application/rss+xml title=yangand><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous>
<link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous>
<link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://waffleboot.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://waffleboot.github.io/css/syntax.css><link rel=stylesheet href=https://waffleboot.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top navbar-custom">
<div class=container-fluid>
<div class=navbar-header>
<button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://waffleboot.github.io/>yangand</a>
</div>
<div class="collapse navbar-collapse" id=main-navbar>
<ul class="nav navbar-nav navbar-right">
</ul>
</div>
</div>
</nav>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div>
<header class=header-section>
<div class="intro-header no-img">
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<div class=posts-heading>
<h1>Posts</h1>
<hr class=small>
</div>
</div>
</div>
</div>
</div>
</header>
<div class=container role=main>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<div class=posts-list>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/22-git-cherry-pick/>
<h2 class=post-title>git cherry pick</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on September 8, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
Несколько версий продукта в Git
git cherry-pick это команда по копированию коммитов. Каждый коммит внутри git это некоторое состояние проекта, а cherry-pick вычисляет разницу (по сути каждый коммит это разница между состояниями) и применяет эту разницу в нужной ветке. В вышеуказанном видео упоминается git cherry-pick -m который позволяет скопировать merge-коммит в нужную ветку. Есть master, от него отпочковывается ветка, в ней идет разработка, несколько коммитов, потом эти коммиты сливаются в master и надо например все эти коммиты перенести в следующие ветки.
<a href=https://waffleboot.github.io/posts/22-git-cherry-pick/ class=post-read-more>[Read More]</a>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/21-errors-in-go/>
<h2 class=post-title>Errors in Go 1.13</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 30, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
Errors in Go 1.13 Whether to Wrap When adding additional context to an error, either with fmt.Errorf or by implementing a custom type, you need to decide whether the new error should wrap the original. There is no single answer to this question; it depends on the context in which the new error is created. Wrap an error to expose it to callers. Do not wrap an error when doing so would expose implementation details.
<a href=https://waffleboot.github.io/posts/21-errors-in-go/ class=post-read-more>[Read More]</a>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/20-golang-interfaces/>
<h2 class=post-title>Golang interfaces</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 30, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
<pre tabindex=0><code>if x, ok := obj.(interface{ MyMethod(int) bool }); ok &amp;&amp; x.MyMethod(42) {
    ...
}
</code></pre><p>Т.е. можно определять интерфейс на лету если он используется только в одной точке. Но и проверку на соответствие интерфейсу наружу тоже не вынести.</p>
<pre tabindex=0><code>type MyInterface interface {
    MyMethod(int) bool
}
</code></pre>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/19-code-style/>
<h2 class=post-title>C++ code style</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 22, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
<p><a href=https://google.github.io/styleguide/cppguide.html>google style guide</a></p>
<ul>
<li>types
<ul>
<li>typedef</li>
<li>using</li>
<li>enum</li>
<li>nested structs and classes</li>
</ul>
</li>
<li>constants</li>
<li>factory functions</li>
<li>constructors</li>
<li>assignment operators</li>
<li>destructor</li>
<li>all other methods</li>
<li>data members</li>
</ul>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/18-python-scons-mongo/>
<h2 class=post-title>Python scons build tool</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 20, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
<p><a href=https://scons.org/doc/production/HTML/scons-man.html>scons-man</a></p>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/17-inet-lookup/>
<h2 class=post-title>Как tcp находит свой сокет</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 20, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
Сетевой стек linux содержит 4 хэш-таблицы для быстрого поиска сокета для входящего пакета:
ehash для установленных соединений bhash для bind lhash2 для listen соединение как вида addr:port, так и any_addr:port listening_hash как простое хранилище listen-сокетов linux listen socket lookup
Размер ehash таблицы регулируется параметром thash_entries. The default is 65536 entries for every gigabyte of memory. In other words, an 8-gigabyte system will have 512k hash entries. Но этого более чем достаточно.
<a href=https://waffleboot.github.io/posts/17-inet-lookup/ class=post-read-more>[Read More]</a>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/16-git-reflog/>
<h2 class=post-title>Git Reflog</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 20, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
TL;DR: to restore git history
git reflog master git reset --hard @{1} git reflog git все изменения в refs (ссылках) пишет в логи .git/logs/
Например, изменения в HEAD (или .git/HEAD) пишутся в .git/logs/HEAD
Обычно git reflog показывает только историю HEAD
4939906 HEAD@{0}: checkout: moving from test to master 494e06a HEAD@{1}: checkout: moving from master to test 4939906 HEAD@{2}: checkout: moving from 379e743595f56cb0b4177fd248c84c47523a4e6b to master 379e743 HEAD@{3}: checkout: moving from master to 379e743595f56cb0b4177fd248c84c47523a4e6b 4939906 HEAD@{4}: clone: from https://github.
<a href=https://waffleboot.github.io/posts/16-git-reflog/ class=post-read-more>[Read More]</a>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/15-git-reflog/>
<h2 class=post-title>git reflog</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 17, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
<p><a href=https://coderwall.com/p/ygjvsa/git-reflog-should-be-your-friend>Git Reflog should be your friend</a></p>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/14-linux-netpoll/>
<h2 class=post-title>netpoll</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 17, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
The implementaion of epoll part 1
part 2
part 3
part 4
Application of epoll in golang
Deep analysis of source code for building native network model with go netpol I / O multiplexing
Detailed Golang Net NetPoll
Golang underlay NetPoll
Detailed Golang Net Transport
Talk about Golang NetPoll Principles (1)
Talk about the netpoll principle of golang (2)
Golang Net HTTP Server
epoll - from the kernel side
<a href=https://waffleboot.github.io/posts/14-linux-netpoll/ class=post-read-more>[Read More]</a>
</div>
</article>
<article class=post-preview>
<a href=https://waffleboot.github.io/posts/13-linux-ebpf/>
<h2 class=post-title>Linux eBPF</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on August 17, 2021
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;
</span>
</p>
<div class=post-entry>
Linux source code elixir
woboq
LiveGrep
Probes and tracepoints bpftrace
bpftrace Reference Guide
kprobes
tracepoints
bcc reference guide
brendan gregg linux perf
The art of writing eBPF programs: a primer.
Posts How to turn any syscall into an event
Debugging the eBPF Virtual Machine video
opensnoop sample
Getting started with Linux kernel development
Tracing a packet journey using Linux tracepoints, perf and eBPF
Linux insides Модули ядра Linux
linux-insides book
<a href=https://waffleboot.github.io/posts/13-linux-ebpf/ class=post-read-more>[Read More]</a>
</div>
</article>
</div>
<ul class="pager main-pager">
<li class=next>
<a href=https://waffleboot.github.io/posts/page/2/>Older Posts &rarr;</a>
</li>
</ul>
</div>
</div>
</div>
<footer>
<div class=container>
<div class=row>
<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<ul class="list-inline text-center footer-links">
</ul>
<p class="credits copyright text-muted">
&nbsp;&bull;&nbsp;&copy;
2021
&nbsp;&bull;&nbsp;
<a href=https://waffleboot.github.io/>yangand</a>
</p>
<p class="credits theme-by text-muted">
<a href=https://gohugo.io>Hugo v0.88.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
</p>
</div>
</div>
</div>
</footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://waffleboot.github.io/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://waffleboot.github.io/js/load-photoswipe.js></script>
</body>
</html>